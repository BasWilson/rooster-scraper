class MobileifyApp{constructor(e){this.properties=e,this.navigator=new MobileifyNavigator,this.navbar=e.navbar?new MobileifyNavbar:null,this.buildApp().then(()=>{this.changeView()})}buildApp(){return new Promise(e=>{var n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=this.createStyle():n.appendChild(document.createTextNode(this.createStyle())),document.getElementsByTagName("head")[0].appendChild(n),document.body.innerHTML=`\n            <div class="mobileify mob-app">\n                <div class="mobileify mob-header"><h2 id="mob-header-text">${this.properties.name}</h2></div>\n                <div class="mobileify mob-content"></div>\n                ${this.navbar?`<div class="mobileify mob-navbar">${this.navbar.renderedNavbar}</div>`:""}\n            </div>\n            `,this.navbar&&this.navbar.renderNavbar(),e(!0)})}addView(e){e.properties.navbar&&this.navbar.addNavItem({text:e.properties.name,icon:e.properties.navbar.icon}),this.navigator.addView(e)}changeView(e){this.navigator.changeView(e),this.navbar&&this.navbar.updateSelectedNavItem(e)}createStyle(){return`\n\n            body {\n                margin: 0px;\n                padding: 0px;\n                \n            }\n            .mobileify {\n                background-color: ${this.properties.primaryColor};\n                color: ${this.properties.secondaryColor};\n                font-family: googlesans;\n            }\n\n            .mob-app {\n                height: 100vh;\n            }\n\n            .mob-header {\n                height: 50px;\n                padding: 10px 20px;\n                line-height: 50px;\n                position: fixed;\n                top: 0px;\n                border-bottom: 1px solid rgba(199,197,255,.1);\n            }\n\n            .mob-content {\n                height: 100%;\n                position: fixed;\n                top: 70px;\n                left: 0px;\n                right: 0px;\n                bottom: ${this.navbar?"70px":"0px"};\n                overflow-y: scroll;\n            }\n\n            .mob-view {\n                position: absolute;\n                height: 100%;\n                width: 100%;\n                top: 0px;\n                left: 0px;\n                right: 0px;\n                bottom: 0px;\n                -webkit-animation-name: navigate;\n                -webkit-animation-duration: .3s;\n            }\n\n            .mob-navbar {\n                width: 100%;\n                height: 70px;\n                position: fixed;\n                bottom: 0px;\n                display: flex;\n                flex-direction: row;\n                justify-content: space-evenly;\n                border-top: 1px solid rgba(199,197,255,.1);\n            }\n\n            .mob-navbar-item {\n                display:flex;\n                flex-direction: column;\n                text-align: center;\n                align-items: center;\n                font-size: 12px;\n                vertical-align: middle;\n                width: 100%;\n                padding: 10px;\n            }\n\n            .mob-navbar-item-selected {\n            ;\n                -webkit-animation-name: nabvar;\n                -webkit-animation-duration: .3s;\n                font-size: 15px;\n            }\n\n            @-webkit-keyframes nabvar {\n                0%{ background-color: rgba(0,0,0,0);}\n                50%{ background-color: rgba(0,0,0,0.1);}\n                100%{ background-color: rgba(0,0,0,0);}\n            }\n\n            .mob-navbar-item img {\n                height: 30px;\n                background-color: rgba(0,0,0,0);\n                width: 30px;\n                margin-bottom: 5px;\n            }\n            @-webkit-keyframes navigate {\n                0% { opacity: 1;}\n                100%{ opacity: 1;}\n            }\n\n            .mobileify h1, h2, h3, h4, h5, p {\n                margin: 0px;\n            }\n        `}}class MobileifyNavbar{constructor(){this.selectedNavItem=null,this.navItems=[],this.renderedNavbar=this.renderNavbar(),this.rendered=!1}renderNavbar(){var e="";for(let n=0;n<this.navItems.length;n++)e+=`\n            <div class="mobileify mob-navbar-item" data-navitem="${this.navItems[n].text}" onclick="app.changeView('${this.navItems[n].text}')">\n                <img class="mobileify mob-navbar-icon" src="${this.navItems[n].icon}" />\n                <p>${this.navItems[n].text}</p>\n            </div>`;return this.renderedNavbar=e,this.rendered&&(document.querySelector(".mob-navbar").innerHTML=this.renderedNavbar),this.rendered=!0,e}addNavItem(e){this.navItems.push(e),this.renderNavbar()}updateSelectedNavItem(e){this.selectedNavItem&&document.querySelector(`[data-navitem="${this.selectedNavItem}"]`).classList.remove("mob-navbar-item-selected"),e||(e=this.navItems[0].text),document.querySelector(`[data-navitem="${e}"]`).classList.add("mob-navbar-item-selected"),this.selectedNavItem=e}}class MobileifyNavigator{constructor(){this.currentView=null,this.views=[],this.navigating=!1}changeView(e){this.navigating=!0,e||(e=this.views[0].properties.name),this.renderView(e).then(e=>{e.renderedView&&this.animateViewSwitch(e.renderedView,e.viewIndex)})}renderView(e){return new Promise(n=>{for(let t=0;t<this.views.length;t++)if(this.views[t].properties.name==e)return document.querySelector(".mob-header").style.display=this.views[t].properties.header?"block":"none",document.querySelector(".mob-content").style.top=this.views[t].properties.header?"70px":"0px",n({renderedView:this.views[t],viewIndex:t});return n(!1)})}closeView(e){}animateViewSwitch(e,n){this.currentView&&(document.querySelector(`#mob-view-${this.currentView}`).style.display="none"),e.loaded||(document.querySelector(".mob-content").innerHTML+=e.view),document.querySelector("#mob-header-text").innerHTML=e.properties.name,document.querySelector(`#mob-view-${e.name}`).style.display="block",this.currentView=e.name,this.navigating=!1,this.views[n].loaded=!0,this.views[n].properties.onload&&this.views[n].properties.onload()}addView(e){this.views.push(e)}}class MobileifyView{constructor(e,n){this.properties=e,this.name=this.properties.name.replace(" ","_").toLowerCase(),this.loaded=!1,this.view=`<div class="mobileify mob-view" id="mob-view-${this.name}">${n}</div>`}}