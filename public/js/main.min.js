function logIn(){var e,n;if(localStorage.getItem("username")&&localStorage.getItem("password")?(e=localStorage.getItem("username"),n=localStorage.getItem("password")):(e=document.querySelector("#username").value,n=document.querySelector("#password").value),!e||!n)return alert("Voer graag uw leerlingnummer en wachtwoord in");buildLoader("Rooster zoeken");const o={username:e,password:n};localStorage.setItem("tempUsername",e),localStorage.setItem("tempPassword",n),new ExpressRequest("/login",o,loginCallback)}function loginCallback(e){if(e.error)return alert(e.error),buildLogin();localStorage.setItem("username",localStorage.getItem("tempUsername")),localStorage.setItem("password",localStorage.getItem("tempPassword")),localStorage.removeItem("tempUsername"),localStorage.removeItem("tempPassword"),buildSchedule(e)}function buildLoader(e){app=new MobileifyApp({name:"Rooster",description:"Een net wat cleaner rooster",navbar:!1},theme),app.addView(new MobileifyView({name:e,header:!0},`\n                <div class="trip margin"></div>\n                <div class="margin" style="text-align: center">\n                    <img style="width: 40%; height: auto; margin-bottom: 20px" src="assets/cat2.svg" />\n                    <p>${quotes[Math.floor(Math.random()*quotes.length)]}</p>\n                </div>\n            `))}function buildLogin(){app=new MobileifyApp({name:"Rooster",description:"Een net wat cleaner rooster",navbar:!0},theme),app.addView(new MobileifyView({name:"Rooster Login",header:!0,navbar:{icon:"assets/login.png"}},'\n        <div class="margin days-holder">\n        <input class="btn" style="width: 100%;" id="username" type="username" placeholder="Leerling nummer" />\n        <input class="btn" style="width: 100%;" id="password" type="password" placeholder="Wachtwoord" />\n        <p class="rule">Door op \'Log in\' te klikken ga je akkoord met de <u onclick="app.changeView(\'Privacy\')">privacy</u> pagina.</p>\n        <button class="btn" style="width: 100%; "  onclick="logIn()" >Log in</button>\n        </div>\n        ')),app.addView(new MobileifyView({name:"Info",header:!0,navbar:{icon:"assets/help.png"}},'  \n        <p class="rule">Deze site maakt het inzien van je GLR rooster 100x makkelijker.</p>\n        <h3 class="rule"><strong>Waarom is het makkelijker?</strong></h3>\n        <p class="rule">- Praktische web app</p>\n        <p class="rule">- Eenmalig inloggen</p>\n        <p class="rule">- Makkelijker overzicht</p>\n        <p class="rule">- Wij bewaren jouw gegevens niet</p>\n        <p class="rule">- Altijd een veilige SSL verbinding</p>\n        ')),app.addView(new MobileifyView({name:"Privacy",header:!0,navbar:{icon:"assets/eye.png"}},'  \n        <p class="rule">Deze site is niet aansprakelijk voor schade of verlies van uw gegevens.</p>\n        <p class="rule">U gebruikt deze website op eigen risico.</p>\n        <p class="rule">Indien u geen groen slotje (SSL) ziet in de adresbalk gebruikt u deze site niet.</p>\n        <p class="rule">Deze site slaat uw wachtwoord en gegevens <b>niet</b> op. Alles wordt lokaal opgeslagen op uw mobiel of PC.</p>\n        <p class="rule">Deze site werkt allèèn, er is geen aansluiting met derde partijen.</p>\n        '))}function buildSchedule(e){app=new MobileifyApp({name:"Rooster",description:"Een net wat cleaner rooster",navbar:!0},theme),app.addView(new MobileifyView({name:"Rooster",header:!0,navbar:{icon:"assets/calender.png"}},scheduleBuilder(e))),app.addView(new MobileifyView({name:"Profiel",header:!0,navbar:{icon:"assets/profile.png"},onload:setThemeSwitch},'\n        <p class="rule">Bedankt voor het gebruiken van Rooster. Bekijk hier jouw profiel.</p>\n        <p class="rule">Rooster slaat jouw gegevens <strong>niet</strong> op.</p>\n        <p class="rule">Licht of donker?</p>\n        <div class="onoffswitch rule">\n        <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" onclick="toggleTheme(this.checked)">\n        <label class="onoffswitch-label" for="myonoffswitch"></label>\n        </div>\n        <button class="btn rule" onclick="logOut()" >Log uit</button>\n        '))}function scheduleBuilder(e){var n=`\n    <div style="padding: 20px;">\n        <h2>${e.studentName}</h2>\n        <p>${e.date}</p>\n    </div>\n        <div class="days-holder">\n    `;for(let a=0;a<5;a++){var o=0;n+=`\n            <h2 style="margin-left: 10px; margin-bottom: 5px; margin-top: 20px;">${days[a]}</h2>\n            <div class="day">\n        `;for(let t=1;t<10;t++)e.lessons[t][a].subject&&(o++,n+=`\n                <a class="day-subject"><h3>${t}e (${times[t]})</h3> ${e.lessons[t][a].subject}, ${e.lessons[t][a].classRoom}, ${e.lessons[t][a].teacher}, ${e.lessons[t][a].group}</a>\n            `);0==o&&(n+="\n            <a><h3>Makkelijk daggieeee </h3></a>\n        "),n+="</div>"}return n+"</div>"}function logOut(){localStorage.removeItem("username"),localStorage.removeItem("password"),buildLogin()}function toggleTheme(e){e=!e,app.setTheme(e?"light":"dark")}function setThemeSwitch(){document.querySelector("#myonoffswitch").checked="light"!=localStorage.getItem("ThemeifyTheme")}var app;const days=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag"],times=["","8:15 - 9:15","9:15 - 10:15","10:30 - 11:30","11:30 - 12:30","13:00 - 14:00","14:00 - 15:00","15:15 - 16:15","16:15 - 17:15","17:30 - 18:30","18:30 - 19:30"],quotes=["We zijn jouw rooster aan het kweken","Jouw rooster, ergens diep in de VPN zooi","We zijn hard op zoek naar je rooster","Mooi dagje vandaag?","Rooster al toegevoegd aan je homescreen?"];var theme=new ThemeifyTheme([new ThemeifyElement(".mobileify",new ThemeifyCss("background-color: #ffffff; color: #000000;","background-color: rgb(0, 1, 87); color: #c7c5ff;")),new ThemeifyElement(".btn",new ThemeifyCss("background-color: #c7c5ff; color: #ffffff;","background-color: #c7c5ff; color: rgb(0, 1, 87);"))]);localStorage.getItem("username")&&localStorage.getItem("password")?logIn():buildLogin();